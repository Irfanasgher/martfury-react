{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(getWishlistListSaga),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(addItemToWishlistSaga),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(removeItemWishlistSaga),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(clearWishlistListSaga),\n    _marked5 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(rootSaga);\n\nimport { all, put, takeEvery } from 'redux-saga/effects';\nimport { notification } from 'antd';\nimport { actionTypes, getWishlistListSuccess, updateWishlistListSuccess } from './action';\n\nvar modalSuccess = function modalSuccess(type) {\n  notification[type]({\n    message: 'Added to wishlisht!',\n    description: 'This product has been added to wishlist!'\n  });\n};\n\nvar modalWarning = function modalWarning(type) {\n  notification[type]({\n    message: 'Removed from wishlist',\n    description: 'This product has been removed from wishlist!'\n  });\n};\n\nfunction getWishlistListSaga() {\n  var localWishlistList;\n  return _regeneratorRuntime.wrap(function getWishlistListSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          localWishlistList = JSON.parse(localStorage.getItem('persist:martfury')).wishlist;\n          _context.next = 4;\n          return put(getWishlistListSuccess(localWishlistList));\n\n        case 4:\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 6]]);\n}\n\nfunction addItemToWishlistSaga(payload) {\n  var product, localWishlist, existItem;\n  return _regeneratorRuntime.wrap(function addItemToWishlistSaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          product = payload.product;\n          localWishlist = JSON.parse(JSON.parse(localStorage.getItem('persist:martfury')).wishlist);\n          existItem = localWishlist.wishlistItems.find(function (item) {\n            return item.id === product.id;\n          });\n\n          if (existItem) {\n            _context2.next = 10;\n            break;\n          }\n\n          localWishlist.wishlistItems.push(product);\n          localWishlist.wishlistTotal++;\n          _context2.next = 9;\n          return put(updateWishlistListSuccess(localWishlist));\n\n        case 9:\n          modalSuccess('success');\n\n        case 10:\n          _context2.next = 15;\n          break;\n\n        case 12:\n          _context2.prev = 12;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log(_context2.t0);\n\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[0, 12]]);\n}\n\nfunction removeItemWishlistSaga(payload) {\n  var product, localWishlist, index;\n  return _regeneratorRuntime.wrap(function removeItemWishlistSaga$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          product = payload.product;\n          localWishlist = JSON.parse(JSON.parse(localStorage.getItem('persist:martfury')).wishlist);\n          index = localWishlist.wishlistItems.indexOf(product);\n          localWishlist.wishlistTotal = localWishlist.wishlistTotal - 1;\n          localWishlist.wishlistItems.splice(index, 1);\n          _context3.next = 8;\n          return put(updateWishlistListSuccess(localWishlist));\n\n        case 8:\n          modalWarning('warning');\n          _context3.next = 14;\n          break;\n\n        case 11:\n          _context3.prev = 11;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.log(_context3.t0);\n\n        case 14:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 11]]);\n}\n\nfunction clearWishlistListSaga() {\n  var emptyCart;\n  return _regeneratorRuntime.wrap(function clearWishlistListSaga$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          emptyCart = {\n            wishlistItems: [],\n            wishlistTotal: 0\n          };\n          _context4.next = 4;\n          return put(updateWishlistListSuccess(emptyCart));\n\n        case 4:\n          _context4.next = 9;\n          break;\n\n        case 6:\n          _context4.prev = 6;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.log(_context4.t0);\n\n        case 9:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, null, [[0, 6]]);\n}\n\nexport default function rootSaga() {\n  return _regeneratorRuntime.wrap(function rootSaga$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.next = 2;\n          return all([takeEvery(actionTypes.GET_WISHLIST_LIST, getWishlistListSaga)]);\n\n        case 2:\n          _context5.next = 4;\n          return all([takeEvery(actionTypes.ADD_ITEM_WISHLISH, addItemToWishlistSaga)]);\n\n        case 4:\n          _context5.next = 6;\n          return all([takeEvery(actionTypes.REMOVE_ITEM_WISHLISH, removeItemWishlistSaga)]);\n\n        case 6:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5);\n}","map":{"version":3,"sources":["C:/chc-ui/store/wishlist/saga.js"],"names":["getWishlistListSaga","addItemToWishlistSaga","removeItemWishlistSaga","clearWishlistListSaga","rootSaga","all","put","takeEvery","notification","actionTypes","getWishlistListSuccess","updateWishlistListSuccess","modalSuccess","type","message","description","modalWarning","localWishlistList","JSON","parse","localStorage","getItem","wishlist","console","log","payload","product","localWishlist","existItem","wishlistItems","find","item","id","push","wishlistTotal","index","indexOf","splice","emptyCart","GET_WISHLIST_LIST","ADD_ITEM_WISHLISH","REMOVE_ITEM_WISHLISH"],"mappings":"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","sourcesContent":["import { all, put, takeEvery } from 'redux-saga/effects';\r\nimport { notification } from 'antd';\r\nimport {\r\n    actionTypes,\r\n    getWishlistListSuccess,\r\n    updateWishlistListSuccess,\r\n} from './action';\r\n\r\nconst modalSuccess = type => {\r\n    notification[type]({\r\n        message: 'Added to wishlisht!',\r\n        description: 'This product has been added to wishlist!',\r\n    });\r\n};\r\n\r\nconst modalWarning = type => {\r\n    notification[type]({\r\n        message: 'Removed from wishlist',\r\n        description: 'This product has been removed from wishlist!',\r\n    });\r\n};\r\n\r\nfunction* getWishlistListSaga() {\r\n    try {\r\n        const localWishlistList = JSON.parse(\r\n            localStorage.getItem('persist:martfury')\r\n        ).wishlist;\r\n        yield put(getWishlistListSuccess(localWishlistList));\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* addItemToWishlistSaga(payload) {\r\n    try {\r\n        const { product } = payload;\r\n        let localWishlist = JSON.parse(\r\n            JSON.parse(localStorage.getItem('persist:martfury')).wishlist\r\n        );\r\n\r\n        let existItem = localWishlist.wishlistItems.find(\r\n            item => item.id === product.id\r\n        );\r\n\r\n        if (!existItem) {\r\n            localWishlist.wishlistItems.push(product);\r\n            localWishlist.wishlistTotal++;\r\n            yield put(updateWishlistListSuccess(localWishlist));\r\n            modalSuccess('success');\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* removeItemWishlistSaga(payload) {\r\n    try {\r\n        const { product } = payload;\r\n        let localWishlist = JSON.parse(\r\n            JSON.parse(localStorage.getItem('persist:martfury')).wishlist\r\n        );\r\n        let index = localWishlist.wishlistItems.indexOf(product);\r\n        localWishlist.wishlistTotal = localWishlist.wishlistTotal - 1;\r\n        localWishlist.wishlistItems.splice(index, 1);\r\n        yield put(updateWishlistListSuccess(localWishlist));\r\n        modalWarning('warning');\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* clearWishlistListSaga() {\r\n    try {\r\n        const emptyCart = {\r\n            wishlistItems: [],\r\n            wishlistTotal: 0,\r\n        };\r\n        yield put(updateWishlistListSuccess(emptyCart));\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nexport default function* rootSaga() {\r\n    yield all([takeEvery(actionTypes.GET_WISHLIST_LIST, getWishlistListSaga)]);\r\n    yield all([\r\n        takeEvery(actionTypes.ADD_ITEM_WISHLISH, addItemToWishlistSaga),\r\n    ]);\r\n    yield all([\r\n        takeEvery(actionTypes.REMOVE_ITEM_WISHLISH, removeItemWishlistSaga),\r\n    ]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}