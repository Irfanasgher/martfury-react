{"ast":null,"code":"var _jsxFileName = \"G:\\\\the-hexaa\\\\ReactJS\\\\martfury_react_package_1_3\\\\martfury-react-1_3\\\\components\\\\shared\\\\panel\\\\PanelSearch.jsx\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { getProductsByKeyword } from '../../../store/product/action';\nimport ProductResult from '../../elements/products/ProductSearchResult';\nimport { connect } from 'react-redux';\n\nclass PanelSearch extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"searchByProductName\", (keyword, object) => {\n      let matches = [];\n      let regexp = new RegExp(keyword.toLowerCase(), 'g');\n      object.forEach(product => {\n        if (product.title.toLowerCase().match(regexp)) matches.push(product);\n      });\n      return matches;\n    });\n\n    this.state = {\n      searchPanel: false,\n      searchProducts: [],\n      keyword: ''\n    };\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const keyword = this.state.keyword;\n    Router.push(`/search?keyword=${keyword}`);\n  }\n\n  handleSearch(e) {\n    if (e.target.value !== '') {\n      const keyword = e.target.value;\n      this.props.dispatch(getProductsByKeyword(keyword));\n      this.setState({\n        searchPanel: true,\n        keyword: e.target.value\n      });\n    } else {\n      this.setState({\n        searchPanel: false,\n        searchProducts: []\n      });\n    }\n  }\n\n  render() {\n    const {\n      searchProducts\n    } = this.state;\n    const {\n      searchResults\n    } = this.props;\n    return __jsx(\"div\", {\n      className: \"ps-panel__search-results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, __jsx(\"form\", {\n      className: \"ps-form--search-mobile\",\n      action: \"/\",\n      method: \"get\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"form-group--nest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Search something...\",\n      onChange: this.handleSearch.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), __jsx(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"icon-magnifier\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })))), searchResults && searchResults.map(product => __jsx(ProductResult, {\n      product: product,\n      key: product.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default connect(state => state.product)(PanelSearch);","map":{"version":3,"sources":["G:/the-hexaa/ReactJS/martfury_react_package_1_3/martfury-react-1_3/components/shared/panel/PanelSearch.jsx"],"names":["React","Component","getProductsByKeyword","ProductResult","connect","PanelSearch","constructor","props","keyword","object","matches","regexp","RegExp","toLowerCase","forEach","product","title","match","push","state","searchPanel","searchProducts","handleSubmit","e","preventDefault","Router","handleSearch","target","value","dispatch","setState","render","searchResults","bind","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getProductsByKeyword } from '../../../store/product/action';\nimport ProductResult from '../../elements/products/ProductSearchResult';\nimport { connect } from 'react-redux';\n\nclass PanelSearch extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            searchPanel: false,\n            searchProducts: [],\n            keyword: '',\n        };\n    }\n\n    searchByProductName = (keyword, object) => {\n        let matches = [];\n        let regexp = new RegExp(keyword.toLowerCase(), 'g');\n\n        object.forEach((product) => {\n            if (product.title.toLowerCase().match(regexp))\n                matches.push(product);\n        });\n\n        return matches;\n    };\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const keyword = this.state.keyword;\n        Router.push(`/search?keyword=${keyword}`);\n    }\n    handleSearch(e) {\n        if (e.target.value !== '') {\n            const keyword = e.target.value;\n            this.props.dispatch(getProductsByKeyword(keyword));\n            this.setState({\n                searchPanel: true,\n                keyword: e.target.value,\n            });\n        } else {\n            this.setState({ searchPanel: false, searchProducts: [] });\n        }\n    }\n    render() {\n        const { searchProducts } = this.state;\n        const { searchResults } = this.props;\n        return (\n            <div className=\"ps-panel__search-results\">\n                <form\n                    className=\"ps-form--search-mobile\"\n                    action=\"/\"\n                    method=\"get\">\n                    <div className=\"form-group--nest\">\n                        <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            placeholder=\"Search something...\"\n                            onChange={this.handleSearch.bind(this)}\n                        />\n                        <button>\n                            <i className=\"icon-magnifier\"></i>\n                        </button>\n                    </div>\n                </form>\n                {searchResults &&\n                    searchResults.map((product) => (\n                        <ProductResult product={product} key={product.id} />\n                    ))}\n            </div>\n        );\n    }\n}\n\nexport default connect((state) => state.product)(PanelSearch);\n"]},"metadata":{},"sourceType":"module"}