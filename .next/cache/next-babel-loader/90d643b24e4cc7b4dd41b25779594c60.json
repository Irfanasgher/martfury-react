{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport FooterDefault from '../../components/shared/footers/FooterDefault'; // import Newletters from '../../components/partials/commons/Newletters';\n// import CustomerBought from '../../components/partials/product/CustomerBought';\n\nimport ProductDetailFullwidth from '../../components/elements/detail/ProductDetailFullwidth';\nimport ProductWidgets from '../../components/partials/product/ProductWidgets';\nimport NavigationList from '../../components/shared/navigation/NavigationList';\nimport BreadCrumb from '../../components/elements/BreadCrumb';\nimport HeaderMobileProduct from '../../components/shared/header-mobile/HeaderMobileProduct';\nimport { getProductsById } from '../../store/product/action';\nimport HeaderProduct from '../../components/shared/headers/HeaderProduct';\nimport { getCollections } from '../../store/collection/action';\nimport RelatedProduct from '../../components/partials/product/RelatedProduct';\n\nclass ProductDefaultPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static async getInitialProps(ctx) {\n    return {\n      query: ctx.query\n    };\n  }\n\n  componentDidMount() {\n    const {\n      pid\n    } = this.props.query;\n    const {\n      query\n    } = this.props;\n\n    if (isNaN(pid)) {\n      Router.push('/page/page-404');\n    }\n\n    if (query) {\n      const collectionsParams = ['customer_bought', 'shop-recommend-items', 'widget_same_brand'];\n      this.props.dispatch(getProductsById(pid));\n      this.props.dispatch(getCollections(collectionsParams));\n    }\n\n    Router.events.on('routeChangeStart', url => {\n      const nextPid = url.split('/').pop();\n\n      if (nextPid !== '' && isNaN(parseInt(nextPid)) === false) {\n        this.props.dispatch(getProductsById(nextPid));\n      }\n    });\n  }\n\n  render() {\n    const {\n      singleProduct\n    } = this.props;\n    const breadCrumb = [{\n      text: 'Home',\n      url: '/'\n    }, {\n      text: 'Shop',\n      url: '/shop'\n    }, {\n      text: singleProduct ? singleProduct.title : ''\n    }];\n    return __jsx(\"div\", {\n      className: \"layout--product\"\n    }, singleProduct ? __jsx(HeaderProduct, {\n      productData: singleProduct\n    }) : '', __jsx(HeaderMobileProduct, null), __jsx(NavigationList, null), __jsx(BreadCrumb, {\n      breacrumb: breadCrumb,\n      layout: \"fullwidth\"\n    }), __jsx(\"div\", {\n      className: \"ps-page--product\"\n    }, __jsx(\"div\", {\n      className: \"ps-container\"\n    }, __jsx(\"div\", {\n      className: \"ps-page__container\"\n    }, __jsx(\"div\", {\n      className: \"ps-page__left\"\n    }, __jsx(ProductDetailFullwidth, null)), __jsx(\"div\", {\n      className: \"ps-page__right\"\n    }, __jsx(ProductWidgets, {\n      collectionSlug: \"widget_same_brand\"\n    }))), __jsx(RelatedProduct, {\n      layout: \"fullwidth\",\n      collectionSlug: \"shop-recommend-items\"\n    }))), __jsx(FooterDefault, null));\n  }\n\n}\n\nexport default connect(state => state.product)(ProductDefaultPage);","map":null,"metadata":{},"sourceType":"module"}