{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"G:\\\\the-hexaa\\\\ReactJS\\\\martfury_react_package_1_3\\\\martfury-react-1_3\\\\components\\\\partials\\\\shop\\\\modules\\\\ShopWidget.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport { connect } from 'react-redux';\nimport { Slider, Checkbox } from 'antd';\nimport { getProducts, getTotalProducts, getProductsByPrice, getBrands, getProductsByBrand, getProductCategories, getProductsByCategory } from '../../../../store/product/action';\n\nvar ShopWidget =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ShopWidget, _Component);\n\n  function ShopWidget(props) {\n    var _this;\n\n    _classCallCheck(this, ShopWidget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShopWidget).call(this, props));\n    _this.state = {\n      priceMin: 0,\n      priceMax: 2000\n    };\n    return _this;\n  }\n\n  _createClass(ShopWidget, [{\n    key: \"handleChangeRange\",\n    value: function handleChangeRange(value) {\n      this.setState({\n        priceMin: value[0],\n        priceMax: value[1]\n      });\n      var params = {\n        price_gt: value[0],\n        price_lt: value[1],\n        _start: 1,\n        _limit: 999\n      };\n      this.props.dispatch(getProductsByPrice(params));\n    }\n  }, {\n    key: \"handleFilterByBrand\",\n    value: function handleFilterByBrand(value) {\n      if (value.length > 0) {\n        this.props.dispatch(getProductsByBrand(value));\n        Router.push({\n          pathname: '/shop',\n          query: {\n            brand: value\n          }\n        });\n      } else {\n        var params = {\n          _start: 1,\n          _limit: 12\n        };\n        this.props.dispatch(getProducts(params));\n        this.props.dispatch(getTotalProducts());\n      }\n    }\n  }, {\n    key: \"handleFilterProductsByCategory\",\n    value: function handleFilterProductsByCategory(e, slug) {\n      e.preventDefault();\n\n      if (slug !== null) {\n        Router.push({\n          pathname: '/shop',\n          query: {\n            category: slug\n          }\n        });\n        this.props.dispatch(getProductsByCategory(slug));\n      } else {\n        var params = {\n          _start: 1,\n          _limit: 12\n        };\n        this.props.dispatch(getProducts(params));\n        this.props.dispatch(getTotalProducts());\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.dispatch(getBrands());\n      this.props.dispatch(getProductCategories());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          brands = _this$props.brands,\n          categories = _this$props.categories;\n      var brandsGroup = [];\n\n      if (brands.length > 0) {\n        brands.forEach(function (brand) {\n          brandsGroup.push({\n            id: brand.id,\n            value: brand.id,\n            label: brand.name\n          });\n        });\n      }\n\n      return __jsx(\"div\", {\n        className: \"ps-layout__left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, __jsx(\"aside\", {\n        className: \"widget widget_shop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, __jsx(\"h4\", {\n        className: \"widget-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Categories\"), categories && categories.length > 0 ? __jsx(\"ul\", {\n        className: \"ps-list--categories\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, __jsx(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"/shop\",\n        onClick: function onClick(e) {\n          return _this2.handleFilterProductsByCategory(e, null);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"All\")), categories.map(function (category) {\n        return __jsx(\"li\", {\n          key: category.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, __jsx(\"a\", {\n          href: \"shop?category=\".concat(category.slug),\n          onClick: function onClick(e) {\n            return _this2.handleFilterProductsByCategory(e, category.slug);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, category.name));\n      })) : 'No Category'), __jsx(\"aside\", {\n        className: \"widget widget_shop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, __jsx(\"h4\", {\n        className: \"widget-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"By Brands\"), __jsx(\"figure\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, __jsx(Checkbox.Group, {\n        options: brandsGroup,\n        onChange: this.handleFilterByBrand.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), __jsx(\"figure\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, __jsx(\"h4\", {\n        className: \"widget-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"By Price\"), __jsx(Slider, {\n        range: true,\n        defaultValue: [0, 2000],\n        max: 2000,\n        onAfterChange: this.handleChangeRange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Price: $\", this.state.priceMin, \" - $\", this.state.priceMax))));\n    }\n  }]);\n\n  return ShopWidget;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state.product;\n};\n\nexport default connect(mapStateToProps)(ShopWidget);","map":{"version":3,"sources":["G:/the-hexaa/ReactJS/martfury_react_package_1_3/martfury-react-1_3/components/partials/shop/modules/ShopWidget.jsx"],"names":["React","Component","Router","connect","Slider","Checkbox","getProducts","getTotalProducts","getProductsByPrice","getBrands","getProductsByBrand","getProductCategories","getProductsByCategory","ShopWidget","props","state","priceMin","priceMax","value","setState","params","price_gt","price_lt","_start","_limit","dispatch","length","push","pathname","query","brand","e","slug","preventDefault","category","brands","categories","brandsGroup","forEach","id","label","name","handleFilterProductsByCategory","map","handleFilterByBrand","bind","handleChangeRange","mapStateToProps","product"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,MAAjC;AAEA,SACIC,WADJ,EAEIC,gBAFJ,EAGIC,kBAHJ,EAIIC,SAJJ,EAKIC,kBALJ,EAMIC,oBANJ,EAOIC,qBAPJ,QAQO,kCARP;;IASMC,U;;;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,oFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,CADD;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAFe;AAMlB;;;;sCAEiBC,K,EAAO;AACrB,WAAKC,QAAL,CAAc;AACVH,QAAAA,QAAQ,EAAEE,KAAK,CAAC,CAAD,CADL;AAEVD,QAAAA,QAAQ,EAAEC,KAAK,CAAC,CAAD;AAFL,OAAd;AAIA,UAAME,MAAM,GAAG;AACXC,QAAAA,QAAQ,EAAEH,KAAK,CAAC,CAAD,CADJ;AAEXI,QAAAA,QAAQ,EAAEJ,KAAK,CAAC,CAAD,CAFJ;AAGXK,QAAAA,MAAM,EAAE,CAHG;AAIXC,QAAAA,MAAM,EAAE;AAJG,OAAf;AAMA,WAAKV,KAAL,CAAWW,QAAX,CAAoBjB,kBAAkB,CAACY,MAAD,CAAtC;AACH;;;wCAEmBF,K,EAAO;AACvB,UAAIA,KAAK,CAACQ,MAAN,GAAe,CAAnB,EAAsB;AAClB,aAAKZ,KAAL,CAAWW,QAAX,CAAoBf,kBAAkB,CAACQ,KAAD,CAAtC;AACAhB,QAAAA,MAAM,CAACyB,IAAP,CAAY;AAAEC,UAAAA,QAAQ,EAAE,OAAZ;AAAqBC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAEZ;AAAT;AAA5B,SAAZ;AACH,OAHD,MAGO;AACH,YAAME,MAAM,GAAG;AACXG,UAAAA,MAAM,EAAE,CADG;AAEXC,UAAAA,MAAM,EAAE;AAFG,SAAf;AAIA,aAAKV,KAAL,CAAWW,QAAX,CAAoBnB,WAAW,CAACc,MAAD,CAA/B;AACA,aAAKN,KAAL,CAAWW,QAAX,CAAoBlB,gBAAgB,EAApC;AACH;AACJ;;;mDAE8BwB,C,EAAGC,I,EAAM;AACpCD,MAAAA,CAAC,CAACE,cAAF;;AACA,UAAID,IAAI,KAAK,IAAb,EAAmB;AACf9B,QAAAA,MAAM,CAACyB,IAAP,CAAY;AAAEC,UAAAA,QAAQ,EAAE,OAAZ;AAAqBC,UAAAA,KAAK,EAAE;AAAEK,YAAAA,QAAQ,EAAEF;AAAZ;AAA5B,SAAZ;AACA,aAAKlB,KAAL,CAAWW,QAAX,CAAoBb,qBAAqB,CAACoB,IAAD,CAAzC;AACH,OAHD,MAGO;AACH,YAAMZ,MAAM,GAAG;AACXG,UAAAA,MAAM,EAAE,CADG;AAEXC,UAAAA,MAAM,EAAE;AAFG,SAAf;AAIA,aAAKV,KAAL,CAAWW,QAAX,CAAoBnB,WAAW,CAACc,MAAD,CAA/B;AACA,aAAKN,KAAL,CAAWW,QAAX,CAAoBlB,gBAAgB,EAApC;AACH;AACJ;;;wCAEmB;AAChB,WAAKO,KAAL,CAAWW,QAAX,CAAoBhB,SAAS,EAA7B;AACA,WAAKK,KAAL,CAAWW,QAAX,CAAoBd,oBAAoB,EAAxC;AACH;;;6BAEQ;AAAA;;AAAA,wBAC0B,KAAKG,KAD/B;AAAA,UACGqB,MADH,eACGA,MADH;AAAA,UACWC,UADX,eACWA,UADX;AAEL,UAAMC,WAAW,GAAG,EAApB;;AACA,UAAIF,MAAM,CAACT,MAAP,GAAgB,CAApB,EAAuB;AACnBS,QAAAA,MAAM,CAACG,OAAP,CAAe,UAAAR,KAAK,EAAI;AACpBO,UAAAA,WAAW,CAACV,IAAZ,CAAiB;AACbY,YAAAA,EAAE,EAAET,KAAK,CAACS,EADG;AAEbrB,YAAAA,KAAK,EAAEY,KAAK,CAACS,EAFA;AAGbC,YAAAA,KAAK,EAAEV,KAAK,CAACW;AAHA,WAAjB;AAKH,SAND;AAOH;;AACD,aACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,SAAS,EAAC,oBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEKL,UAAU,IAAIA,UAAU,CAACV,MAAX,GAAoB,CAAlC,GACG;AAAI,QAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,IAAI,EAAC,OADT;AAEI,QAAA,OAAO,EAAE,iBAAAK,CAAC;AAAA,iBACN,MAAI,CAACW,8BAAL,CACIX,CADJ,EAEI,IAFJ,CADM;AAAA,SAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CADJ,EAaKK,UAAU,CAACO,GAAX,CAAe,UAAAT,QAAQ;AAAA,eACpB;AAAI,UAAA,GAAG,EAAEA,QAAQ,CAACK,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AACI,UAAA,IAAI,0BAAmBL,QAAQ,CAACF,IAA5B,CADR;AAEI,UAAA,OAAO,EAAE,iBAAAD,CAAC;AAAA,mBACN,MAAI,CAACW,8BAAL,CACIX,CADJ,EAEIG,QAAQ,CAACF,IAFb,CADM;AAAA,WAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAQKE,QAAQ,CAACO,IARd,CADJ,CADoB;AAAA,OAAvB,CAbL,CADH,GA8BG,aAhCR,CADJ,EAoCI;AAAO,QAAA,SAAS,EAAC,oBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,MAAC,QAAD,CAAU,KAAV;AACI,QAAA,OAAO,EAAEJ,WADb;AAEI,QAAA,QAAQ,EAAE,KAAKO,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,CAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI,MAAC,MAAD;AACI,QAAA,KAAK,MADT;AAEI,QAAA,YAAY,EAAE,CAAC,CAAD,EAAI,IAAJ,CAFlB;AAGI,QAAA,GAAG,EAAE,IAHT;AAII,QAAA,aAAa,EAAE,KAAKC,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACa,KAAK9B,KAAL,CAAWC,QADxB,UAEK,KAAKD,KAAL,CAAWE,QAFhB,CARJ,CARJ,CApCJ,CADJ;AA6DH;;;;EAlIoBhB,S;;AAqIzB,IAAM8C,eAAe,GAAG,SAAlBA,eAAkB,CAAAhC,KAAK,EAAI;AAC7B,SAAOA,KAAK,CAACiC,OAAb;AACH,CAFD;;AAGA,eAAe7C,OAAO,CAAC4C,eAAD,CAAP,CAAyBlC,UAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport Router from 'next/router';\nimport { connect } from 'react-redux';\nimport { Slider, Checkbox } from 'antd';\n\nimport {\n    getProducts,\n    getTotalProducts,\n    getProductsByPrice,\n    getBrands,\n    getProductsByBrand,\n    getProductCategories,\n    getProductsByCategory,\n} from '../../../../store/product/action';\nclass ShopWidget extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            priceMin: 0,\n            priceMax: 2000,\n        };\n    }\n\n    handleChangeRange(value) {\n        this.setState({\n            priceMin: value[0],\n            priceMax: value[1],\n        });\n        const params = {\n            price_gt: value[0],\n            price_lt: value[1],\n            _start: 1,\n            _limit: 999,\n        };\n        this.props.dispatch(getProductsByPrice(params));\n    }\n\n    handleFilterByBrand(value) {\n        if (value.length > 0) {\n            this.props.dispatch(getProductsByBrand(value));\n            Router.push({ pathname: '/shop', query: { brand: value } });\n        } else {\n            const params = {\n                _start: 1,\n                _limit: 12,\n            };\n            this.props.dispatch(getProducts(params));\n            this.props.dispatch(getTotalProducts());\n        }\n    }\n\n    handleFilterProductsByCategory(e, slug) {\n        e.preventDefault();\n        if (slug !== null) {\n            Router.push({ pathname: '/shop', query: { category: slug } });\n            this.props.dispatch(getProductsByCategory(slug));\n        } else {\n            const params = {\n                _start: 1,\n                _limit: 12,\n            };\n            this.props.dispatch(getProducts(params));\n            this.props.dispatch(getTotalProducts());\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(getBrands());\n        this.props.dispatch(getProductCategories());\n    }\n\n    render() {\n        const { brands, categories } = this.props;\n        const brandsGroup = [];\n        if (brands.length > 0) {\n            brands.forEach(brand => {\n                brandsGroup.push({\n                    id: brand.id,\n                    value: brand.id,\n                    label: brand.name,\n                });\n            });\n        }\n        return (\n            <div className=\"ps-layout__left\">\n                <aside className=\"widget widget_shop\">\n                    <h4 className=\"widget-title\">Categories</h4>\n                    {categories && categories.length > 0 ? (\n                        <ul className=\"ps-list--categories\">\n                            <li>\n                                <a\n                                    href=\"/shop\"\n                                    onClick={e =>\n                                        this.handleFilterProductsByCategory(\n                                            e,\n                                            null\n                                        )\n                                    }>\n                                    All\n                                </a>\n                            </li>\n                            {categories.map(category => (\n                                <li key={category.id}>\n                                    <a\n                                        href={`shop?category=${category.slug}`}\n                                        onClick={e =>\n                                            this.handleFilterProductsByCategory(\n                                                e,\n                                                category.slug\n                                            )\n                                        }>\n                                        {category.name}\n                                    </a>\n                                </li>\n                            ))}\n                        </ul>\n                    ) : (\n                        'No Category'\n                    )}\n                </aside>\n                <aside className=\"widget widget_shop\">\n                    <h4 className=\"widget-title\">By Brands</h4>\n                    <figure>\n                        <Checkbox.Group\n                            options={brandsGroup}\n                            onChange={this.handleFilterByBrand.bind(this)}\n                        />\n                    </figure>\n                    <figure>\n                        <h4 className=\"widget-title\">By Price</h4>\n                        <Slider\n                            range\n                            defaultValue={[0, 2000]}\n                            max={2000}\n                            onAfterChange={this.handleChangeRange.bind(this)}\n                        />\n                        <p>\n                            Price: ${this.state.priceMin} - $\n                            {this.state.priceMax}\n                        </p>\n                    </figure>\n                </aside>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return state.product;\n};\nexport default connect(mapStateToProps)(ShopWidget);\n"]},"metadata":{},"sourceType":"module"}