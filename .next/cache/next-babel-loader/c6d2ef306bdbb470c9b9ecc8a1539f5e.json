{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { Select } from 'antd';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport ProductResult from '../../../elements/products/ProductSearchResult';\nimport { connect } from 'react-redux';\nimport { getProductsByKeyword } from '../../../../store/product/action';\n\nvar SearchHeader =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchHeader, _Component);\n\n  function SearchHeader(props) {\n    var _this;\n\n    _classCallCheck(this, SearchHeader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchHeader).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"searchByProductName\", function (keyword, object) {\n      var matches = [];\n      var regexp = new RegExp(keyword.toLowerCase(), 'g');\n      object.forEach(function (product) {\n        if (product.title.toLowerCase().match(regexp)) matches.push(product);\n      });\n      return matches;\n    });\n\n    _this.state = {\n      searchPanel: false,\n      keyword: ''\n    };\n    return _this;\n  }\n\n  _createClass(SearchHeader, [{\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      if (e.target.value !== '') {\n        var keyword = e.target.value;\n        this.props.dispatch(getProductsByKeyword(keyword));\n        this.setState({\n          searchPanel: true,\n          keyword: e.target.value\n        });\n      } else {\n        this.setState({\n          searchPanel: false,\n          searchProducts: []\n        });\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var keyword = this.state.keyword;\n      Router.push(\"/search?keyword=\".concat(keyword));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var searchPanel = this.state.searchPanel;\n      var searchResults = this.props.searchResults;\n      var exampleCategories = ['All', 'Babies & Moms', 'Books & Office', 'Cars & Motocycles', 'Clothing & Apparel', ' Accessories', 'Bags', 'Kid’s Fashion', 'Mens', 'Shoes', 'Sunglasses', 'Womens', 'Computers & Technologies', 'Desktop PC', 'Laptop', 'Smartphones', 'Consumer Electrics', 'Air Conditioners', 'Accessories', 'Type Hanging Cell', 'Audios & Theaters', 'Headphone', 'Home Theater System', 'Speakers', 'Car Electronics', 'Audio & Video', 'Car Security', 'Radar Detector', 'Vehicle GPS', 'Office Electronics', 'Printers', 'Projectors', 'Scanners', 'Store & Business', 'Refrigerators', 'TV Televisions', '4K Ultra HD TVs', 'LED TVs', 'OLED TVs', 'Washing Machines', 'Type Drying Clothes', 'Type Horizontal', 'Type Vertical', 'Garden & Kitchen', 'Cookware', 'Decoration', 'Furniture', 'Garden Tools', 'Home Improvement', 'Powers And Hand Tools', 'Utensil & Gadget', 'Health & Beauty', 'Equipments', 'Hair Care', 'Perfumer', 'Wine Cabinets'];\n      return __jsx(\"form\", {\n        className: \"ps-form--quick-search\",\n        method: \"get\",\n        action: \"/\",\n        onSubmit: this.handleSubmit.bind(this)\n      }, __jsx(\"div\", {\n        className: \"ps-form__categories\"\n      }, __jsx(\"select\", {\n        className: \"form-control\"\n      }, exampleCategories.map(function (option) {\n        return __jsx(\"option\", {\n          value: option,\n          key: option\n        }, option);\n      }))), __jsx(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        placeholder: \"I'm shopping for...\",\n        onChange: this.handleSearch.bind(this)\n      }), __jsx(\"button\", {\n        onClick: this.handleSubmit.bind(this)\n      }, \"Search\"), __jsx(\"div\", {\n        className: \"ps-panel--search-result\".concat(searchPanel && searchPanel === true ? ' active ' : '')\n      }, __jsx(\"div\", {\n        className: \"ps-panel__content\"\n      }, searchResults && searchResults.length > 0 ? searchResults.map(function (product) {\n        return __jsx(ProductResult, {\n          product: product,\n          key: product.id\n        });\n      }) : __jsx(\"span\", null, \"Not found! Try with another keyword.\")), __jsx(\"div\", {\n        className: \"ps-panel__footer text-center\"\n      }, __jsx(Link, {\n        href: \"/search\"\n      }, __jsx(\"a\", null, \"See all results\")))));\n    }\n  }]);\n\n  return SearchHeader;\n}(Component);\n\nexport default connect(function (state) {\n  return state.product;\n})(SearchHeader);","map":null,"metadata":{},"sourceType":"module"}