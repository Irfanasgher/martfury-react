{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { Select } from 'antd';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport ProductResult from '../../../elements/products/ProductSearchResult';\nimport { connect } from 'react-redux';\nimport { getProductsByKeyword } from '../../../../store/product/action';\n\nclass SearchHeader extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"searchByProductName\", (keyword, object) => {\n      let matches = [];\n      let regexp = new RegExp(keyword.toLowerCase(), 'g');\n      object.forEach(product => {\n        if (product.title.toLowerCase().match(regexp)) matches.push(product);\n      });\n      return matches;\n    });\n\n    this.state = {\n      searchPanel: false,\n      keyword: ''\n    };\n  }\n\n  handleSearch(e) {\n    if (e.target.value !== '') {\n      const keyword = e.target.value;\n      this.props.dispatch(getProductsByKeyword(keyword));\n      this.setState({\n        searchPanel: true,\n        keyword: e.target.value\n      });\n    } else {\n      this.setState({\n        searchPanel: false,\n        searchProducts: []\n      });\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const keyword = this.state.keyword;\n    Router.push(`/search?keyword=${keyword}`);\n  }\n\n  render() {\n    const {\n      searchPanel\n    } = this.state;\n    const {\n      searchResults\n    } = this.props;\n    const exampleCategories = ['All', 'Babies & Moms', 'Books & Office', 'Cars & Motocycles', 'Clothing & Apparel', ' Accessories', 'Bags', 'Kid’s Fashion', 'Mens', 'Shoes', 'Sunglasses', 'Womens', 'Computers & Technologies', 'Desktop PC', 'Laptop', 'Smartphones', 'Consumer Electrics', 'Air Conditioners', 'Accessories', 'Type Hanging Cell', 'Audios & Theaters', 'Headphone', 'Home Theater System', 'Speakers', 'Car Electronics', 'Audio & Video', 'Car Security', 'Radar Detector', 'Vehicle GPS', 'Office Electronics', 'Printers', 'Projectors', 'Scanners', 'Store & Business', 'Refrigerators', 'TV Televisions', '4K Ultra HD TVs', 'LED TVs', 'OLED TVs', 'Washing Machines', 'Type Drying Clothes', 'Type Horizontal', 'Type Vertical', 'Garden & Kitchen', 'Cookware', 'Decoration', 'Furniture', 'Garden Tools', 'Home Improvement', 'Powers And Hand Tools', 'Utensil & Gadget', 'Health & Beauty', 'Equipments', 'Hair Care', 'Perfumer', 'Wine Cabinets'];\n    return __jsx(\"form\", {\n      className: \"ps-form--quick-search\",\n      method: \"get\",\n      action: \"/\",\n      onSubmit: this.handleSubmit.bind(this)\n    }, __jsx(\"div\", {\n      className: \"ps-form__categories\"\n    }, __jsx(\"select\", {\n      className: \"form-control\"\n    }, exampleCategories.map(option => __jsx(\"option\", {\n      value: option,\n      key: option\n    }, option)))), __jsx(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"I'm shopping for...\",\n      onChange: this.handleSearch.bind(this)\n    }), __jsx(\"button\", {\n      onClick: this.handleSubmit.bind(this)\n    }, \"Search\"), __jsx(\"div\", {\n      className: `ps-panel--search-result${searchPanel && searchPanel === true ? ' active ' : ''}`\n    }, __jsx(\"div\", {\n      className: \"ps-panel__content\"\n    }, searchResults && searchResults.length > 0 ? searchResults.map(product => __jsx(ProductResult, {\n      product: product,\n      key: product.id\n    })) : __jsx(\"span\", null, \"Not found! Try with another keyword.\")), __jsx(\"div\", {\n      className: \"ps-panel__footer text-center\"\n    }, __jsx(Link, {\n      href: \"/search\"\n    }, __jsx(\"a\", null, \"See all results\")))));\n  }\n\n}\n\nexport default connect(state => state.product)(SearchHeader);","map":null,"metadata":{},"sourceType":"module"}