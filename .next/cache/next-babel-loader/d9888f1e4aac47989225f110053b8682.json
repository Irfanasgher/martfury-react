{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getCart, increaseItemQty, decreaseItemQty, removeItem } from '../../../store/cart/action';\nimport Link from 'next/link';\nimport ProductCart from '../../elements/products/ProductCart';\n\nvar ShoppingCart =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ShoppingCart, _Component);\n\n  function ShoppingCart(props) {\n    var _this;\n\n    _classCallCheck(this, ShoppingCart);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShoppingCart).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRemoveCartItem\", function (product) {\n      _this.props.dispatch(removeItem(product));\n    });\n\n    return _this;\n  }\n\n  _createClass(ShoppingCart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.dispatch(getCart());\n    }\n  }, {\n    key: \"handleIncreaseItemQty\",\n    value: function handleIncreaseItemQty(product) {\n      this.props.dispatch(increaseItemQty(product));\n    }\n  }, {\n    key: \"handleDecreaseItemQty\",\n    value: function handleDecreaseItemQty(product) {\n      this.props.dispatch(decreaseItemQty(product));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          amount = _this$props.amount,\n          cartTotal = _this$props.cartTotal,\n          cartItems = _this$props.cartItems;\n      var currentCartItems = [];\n\n      if (cartItems && cartItems.length > 0) {\n        currentCartItems = cartItems;\n      }\n\n      return __jsx(\"div\", {\n        className: \"ps-section--shopping ps-shopping-cart\"\n      }, __jsx(\"div\", {\n        className: \"container\"\n      }, __jsx(\"div\", {\n        className: \"ps-section__header\"\n      }, __jsx(\"h1\", null, \"Shopping Cart\")), __jsx(\"div\", {\n        className: \"ps-section__content\"\n      }, __jsx(\"div\", {\n        className: \"table-responsive\"\n      }, __jsx(\"table\", {\n        className: \"table ps-table--shopping-cart\"\n      }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Product\"), __jsx(\"th\", null, \"Price\"), __jsx(\"th\", null, \"Quantity\"), __jsx(\"th\", null, \"Total\"), __jsx(\"th\", null, \"Action\"))), __jsx(\"tbody\", null, currentCartItems.map(function (product) {\n        return __jsx(\"tr\", {\n          key: product.id\n        }, __jsx(\"td\", null, __jsx(ProductCart, {\n          product: product\n        })), __jsx(\"td\", {\n          className: \"price\"\n        }, \"$\", product.price), __jsx(\"td\", null, __jsx(\"div\", {\n          className: \"form-group--number\"\n        }, __jsx(\"button\", {\n          className: \"up\",\n          onClick: _this2.handleIncreaseItemQty.bind(_this2, product)\n        }, \"+\"), __jsx(\"button\", {\n          className: \"down\",\n          onClick: _this2.handleDecreaseItemQty.bind(_this2, product)\n        }, \"-\"), __jsx(\"input\", {\n          className: \"form-control\",\n          type: \"text\",\n          placeholder: \"1\",\n          value: product.quantity,\n          readOnly: true\n        }))), __jsx(\"td\", null, \"$\", product.quantity * product.price), __jsx(\"td\", null, __jsx(\"a\", {\n          href: \"#\",\n          onClick: _this2.handleRemoveCartItem.bind(_this2, product)\n        }, __jsx(\"i\", {\n          className: \"icon-cross\"\n        }))));\n      })))), __jsx(\"div\", {\n        className: \"ps-section__cart-actions\"\n      }, __jsx(Link, {\n        href: \"/shop\"\n      }, __jsx(\"a\", null, __jsx(\"i\", {\n        className: \"icon-arrow-left mr-2\"\n      }), \"Back to Shop\")))), __jsx(\"div\", {\n        className: \"ps-section__footer\"\n      }, __jsx(\"div\", {\n        className: \"row justify-content-end\"\n      }, __jsx(\"div\", {\n        className: \"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 \"\n      }, __jsx(\"div\", {\n        className: \"ps-block--shopping-total\"\n      }, __jsx(\"div\", {\n        className: \"ps-block__header\"\n      }, __jsx(\"p\", null, \"Subtotal \", __jsx(\"span\", null, \" $\", amount))), __jsx(\"div\", {\n        className: \"ps-block__content\"\n      }, __jsx(\"ul\", {\n        className: \"ps-block__product\"\n      }, cartItems.length > 0 ? cartItems.map(function (product, index) {\n        if (index < 3) {\n          return __jsx(\"li\", {\n            key: product.id\n          }, __jsx(\"span\", {\n            className: \"ps-block__estimate\"\n          }, __jsx(Link, {\n            href: \"/product/[pid]\",\n            as: \"/product/\".concat(product.id)\n          }, __jsx(\"a\", {\n            className: \"ps-product__title\"\n          }, product.title, __jsx(\"br\", null), ' ', \"x\", ' ', product.quantity))));\n        }\n      }) : ''), __jsx(\"h3\", null, \"Total \", __jsx(\"span\", null, \"$\", amount)))), __jsx(Link, {\n        href: \"/account/checkout\"\n      }, __jsx(\"a\", {\n        className: \"ps-btn ps-btn--fullwidth\"\n      }, \"Proceed to checkout\")))))));\n    }\n  }]);\n\n  return ShoppingCart;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state.cart;\n};\n\nexport default connect(mapStateToProps)(ShoppingCart);","map":null,"metadata":{},"sourceType":"module"}