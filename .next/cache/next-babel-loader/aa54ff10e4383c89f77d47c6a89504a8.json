{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\chc-ui\\\\pages\\\\product\\\\[pid].jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport FooterDefault from '../../components/shared/footers/FooterDefault';\nimport Newletters from '../../components/partials/commons/Newletters';\nimport CustomerBought from '../../components/partials/product/CustomerBought';\nimport ProductDetailFullwidth from '../../components/elements/detail/ProductDetailFullwidth';\nimport ProductWidgets from '../../components/partials/product/ProductWidgets';\nimport NavigationList from '../../components/shared/navigation/NavigationList';\nimport BreadCrumb from '../../components/elements/BreadCrumb';\nimport HeaderMobileProduct from '../../components/shared/header-mobile/HeaderMobileProduct';\nimport { getProductsById } from '../../store/product/action';\nimport HeaderProduct from '../../components/shared/headers/HeaderProduct';\nimport { getCollections } from '../../store/collection/action';\nimport RelatedProduct from '../../components/partials/product/RelatedProduct';\n\nvar ProductDefaultPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProductDefaultPage, _React$Component);\n\n  function ProductDefaultPage(props) {\n    _classCallCheck(this, ProductDefaultPage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ProductDefaultPage).call(this, props));\n  }\n\n  _createClass(ProductDefaultPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n\n      var pid = this.props.query.pid;\n      var query = this.props.query;\n\n      if (isNaN(pid)) {\n        Router.push('/page/page-404');\n      }\n\n      if (query) {\n        var collectionsParams = ['customer_bought', 'shop-recommend-items', 'widget_same_brand'];\n        this.props.dispatch(getProductsById(pid));\n        this.props.dispatch(getCollections(collectionsParams));\n      }\n\n      Router.events.on('routeChangeStart', function (url) {\n        var nextPid = url.split('/').pop();\n\n        if (nextPid !== '' && isNaN(parseInt(nextPid)) === false) {\n          _this.props.dispatch(getProductsById(nextPid));\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var singleProduct = this.props.singleProduct;\n      var breadCrumb = [{\n        text: 'Home',\n        url: '/'\n      }, {\n        text: 'Shop',\n        url: '/shop'\n      }, {\n        text: singleProduct ? singleProduct.title : ''\n      }];\n      return __jsx(\"div\", {\n        className: \"layout--product\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, singleProduct ? __jsx(HeaderProduct, {\n        productData: singleProduct,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }) : '', __jsx(HeaderMobileProduct, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), __jsx(NavigationList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), __jsx(BreadCrumb, {\n        breacrumb: breadCrumb,\n        layout: \"fullwidth\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"ps-page--product\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"ps-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"ps-page__container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"ps-page__left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, __jsx(ProductDetailFullwidth, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        className: \"ps-page__right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, __jsx(ProductWidgets, {\n        collectionSlug: \"widget_same_brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }))), __jsx(RelatedProduct, {\n        layout: \"fullwidth\",\n        collectionSlug: \"shop-recommend-items\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))), __jsx(FooterDefault, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(ctx) {\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", {\n                query: ctx.query\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n  }]);\n\n  return ProductDefaultPage;\n}(React.Component);\n\nexport default connect(function (state) {\n  return state.product;\n})(ProductDefaultPage);","map":{"version":3,"sources":["C:/chc-ui/pages/product/[pid].jsx"],"names":["React","connect","Router","FooterDefault","Newletters","CustomerBought","ProductDetailFullwidth","ProductWidgets","NavigationList","BreadCrumb","HeaderMobileProduct","getProductsById","HeaderProduct","getCollections","RelatedProduct","ProductDefaultPage","props","pid","query","isNaN","push","collectionsParams","dispatch","events","on","url","nextPid","split","pop","parseInt","singleProduct","breadCrumb","text","title","ctx","Component","state","product"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Router from 'next/router';\r\nimport FooterDefault from '../../components/shared/footers/FooterDefault';\r\nimport Newletters from '../../components/partials/commons/Newletters';\r\nimport CustomerBought from '../../components/partials/product/CustomerBought';\r\nimport ProductDetailFullwidth from '../../components/elements/detail/ProductDetailFullwidth';\r\nimport ProductWidgets from '../../components/partials/product/ProductWidgets';\r\nimport NavigationList from '../../components/shared/navigation/NavigationList';\r\nimport BreadCrumb from '../../components/elements/BreadCrumb';\r\nimport HeaderMobileProduct from '../../components/shared/header-mobile/HeaderMobileProduct';\r\nimport { getProductsById } from '../../store/product/action';\r\nimport HeaderProduct from '../../components/shared/headers/HeaderProduct';\r\nimport { getCollections } from '../../store/collection/action';\r\nimport RelatedProduct from '../../components/partials/product/RelatedProduct';\r\n\r\nclass ProductDefaultPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    static async getInitialProps(ctx) {\r\n        return { query: ctx.query };\r\n    }\r\n    componentDidMount() {\r\n        const { pid } = this.props.query;\r\n        const { query } = this.props;\r\n        if (isNaN(pid)) {\r\n            Router.push('/page/page-404');\r\n        }\r\n\r\n        if (query) {\r\n            const collectionsParams = [\r\n                'customer_bought',\r\n                'shop-recommend-items',\r\n                'widget_same_brand',\r\n            ];\r\n            this.props.dispatch(getProductsById(pid));\r\n            this.props.dispatch(getCollections(collectionsParams));\r\n        }\r\n        Router.events.on('routeChangeStart', url => {\r\n            const nextPid = url.split('/').pop();\r\n            if (nextPid !== '' && isNaN(parseInt(nextPid)) === false) {\r\n                this.props.dispatch(getProductsById(nextPid));\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { singleProduct } = this.props;\r\n        const breadCrumb = [\r\n            {\r\n                text: 'Home',\r\n                url: '/',\r\n            },\r\n            {\r\n                text: 'Shop',\r\n                url: '/shop',\r\n            },\r\n            {\r\n                text: singleProduct ? singleProduct.title : '',\r\n            },\r\n        ];\r\n\r\n        return (\r\n            <div className=\"layout--product\">\r\n                {singleProduct ? (\r\n                    <HeaderProduct productData={singleProduct} />\r\n                ) : (\r\n                    ''\r\n                )}\r\n                <HeaderMobileProduct />\r\n                <NavigationList />\r\n                <BreadCrumb breacrumb={breadCrumb} layout=\"fullwidth\" />\r\n                <div className=\"ps-page--product\">\r\n                    <div className=\"ps-container\">\r\n                        <div className=\"ps-page__container\">\r\n                            <div className=\"ps-page__left\">\r\n                                <ProductDetailFullwidth />\r\n                            </div>\r\n                            <div className=\"ps-page__right\">\r\n                                <ProductWidgets collectionSlug=\"widget_same_brand\" />\r\n                            </div>\r\n                        </div>\r\n                        {/*<CustomerBought*/}\r\n                        {/*    layout=\"fullwidth\"*/}\r\n                        {/*    collectionSlug=\"customer_bought\"*/}\r\n                        {/*/>*/}\r\n                        <RelatedProduct\r\n                            layout=\"fullwidth\"\r\n                            collectionSlug=\"shop-recommend-items\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                {/*<Newletters />*/}\r\n                <FooterDefault />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(state => state.product)(ProductDefaultPage);\r\n"]},"metadata":{},"sourceType":"module"}