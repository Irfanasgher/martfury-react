{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\chc-ui\\\\components\\\\shared\\\\panel\\\\PanelSearch.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { getProductsByKeyword } from '../../../store/product/action';\nimport ProductResult from '../../elements/products/ProductSearchResult';\nimport { connect } from 'react-redux';\n\nvar PanelSearch =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PanelSearch, _Component);\n\n  function PanelSearch(props) {\n    var _this;\n\n    _classCallCheck(this, PanelSearch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PanelSearch).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"searchByProductName\", function (keyword, object) {\n      var matches = [];\n      var regexp = new RegExp(keyword.toLowerCase(), 'g');\n      object.forEach(function (product) {\n        if (product.title.toLowerCase().match(regexp)) matches.push(product);\n      });\n      return matches;\n    });\n\n    _this.state = {\n      searchPanel: false,\n      searchProducts: [],\n      keyword: ''\n    };\n    return _this;\n  }\n\n  _createClass(PanelSearch, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var keyword = this.state.keyword;\n      Router.push(\"/search?keyword=\".concat(keyword));\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      if (e.target.value !== '') {\n        var keyword = e.target.value;\n        this.props.dispatch(getProductsByKeyword(keyword));\n        this.setState({\n          searchPanel: true,\n          keyword: e.target.value\n        });\n      } else {\n        this.setState({\n          searchPanel: false,\n          searchProducts: []\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var searchProducts = this.state.searchProducts;\n      var searchResults = this.props.searchResults;\n      return __jsx(\"div\", {\n        className: \"ps-panel__search-results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, __jsx(\"form\", {\n        className: \"ps-form--search-mobile\",\n        action: \"/\",\n        method: \"get\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"form-group--nest\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        placeholder: \"Search something...\",\n        onChange: this.handleSearch.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), __jsx(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"icon-magnifier\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })))), searchResults && searchResults.map(function (product) {\n        return __jsx(ProductResult, {\n          product: product,\n          key: product.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return PanelSearch;\n}(Component);\n\nexport default connect(function (state) {\n  return state.product;\n})(PanelSearch);","map":{"version":3,"sources":["C:/chc-ui/components/shared/panel/PanelSearch.jsx"],"names":["React","Component","getProductsByKeyword","ProductResult","connect","PanelSearch","props","keyword","object","matches","regexp","RegExp","toLowerCase","forEach","product","title","match","push","state","searchPanel","searchProducts","e","preventDefault","Router","target","value","dispatch","setState","searchResults","handleSearch","bind","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { getProductsByKeyword } from '../../../store/product/action';\r\nimport ProductResult from '../../elements/products/ProductSearchResult';\r\nimport { connect } from 'react-redux';\r\n\r\nclass PanelSearch extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchPanel: false,\r\n            searchProducts: [],\r\n            keyword: '',\r\n        };\r\n    }\r\n\r\n    searchByProductName = (keyword, object) => {\r\n        let matches = [];\r\n        let regexp = new RegExp(keyword.toLowerCase(), 'g');\r\n\r\n        object.forEach((product) => {\r\n            if (product.title.toLowerCase().match(regexp))\r\n                matches.push(product);\r\n        });\r\n\r\n        return matches;\r\n    };\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const keyword = this.state.keyword;\r\n        Router.push(`/search?keyword=${keyword}`);\r\n    }\r\n    handleSearch(e) {\r\n        if (e.target.value !== '') {\r\n            const keyword = e.target.value;\r\n            this.props.dispatch(getProductsByKeyword(keyword));\r\n            this.setState({\r\n                searchPanel: true,\r\n                keyword: e.target.value,\r\n            });\r\n        } else {\r\n            this.setState({ searchPanel: false, searchProducts: [] });\r\n        }\r\n    }\r\n    render() {\r\n        const { searchProducts } = this.state;\r\n        const { searchResults } = this.props;\r\n        return (\r\n            <div className=\"ps-panel__search-results\">\r\n                <form\r\n                    className=\"ps-form--search-mobile\"\r\n                    action=\"/\"\r\n                    method=\"get\">\r\n                    <div className=\"form-group--nest\">\r\n                        <input\r\n                            className=\"form-control\"\r\n                            type=\"text\"\r\n                            placeholder=\"Search something...\"\r\n                            onChange={this.handleSearch.bind(this)}\r\n                        />\r\n                        <button>\r\n                            <i className=\"icon-magnifier\"></i>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n                {searchResults &&\r\n                    searchResults.map((product) => (\r\n                        <ProductResult product={product} key={product.id} />\r\n                    ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect((state) => state.product)(PanelSearch);\r\n"]},"metadata":{},"sourceType":"module"}